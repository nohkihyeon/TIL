# [Java] Static 변수
- java에서 static으로 변수나 함수를 많이 선언해 왔다.
- 메모리의 이점을 정확히 알기 위해 정리해 보자

## Static
- Java에서 Static이란 키워드는 메모리에 한번 할당되어 프로그램이 종료될 때 해제되는 것을 의미
- 프로그램이 실행되기 위해서는 프로그램이 메모리에 Load
- 프로그램에서 사용되는 변수들을 지정할 메모리도 필요

### 메모리 구조 공간 구조

<img width="771" alt="스크린샷 2021-10-31 오후 1 36 39" src="https://user-images.githubusercontent.com/65120581/139567905-d8292e23-fafd-4623-b7f8-83098fee7fbe.png">

#### 1. Code 영역
- 실행할 프로그램의 코드가 저장되는 영역으로 CPU는 Code영역에 저장된 명령어를 하나씩 가져가 처리

#### 2. Data 영역
- 프로그램의 전역변수와 static변수가 저장되는 영역
- 프로그램의 시작과 함께 할당되며 프로그램이 종료되면 소멸
#### 3.  Stack 영역
- 함수의 호출과 관계되는 지역변수와 매개변수가 저장되는 영역
- 함수의 호출과 함께 할당되며 함수의 호출이 완료되면 소멸
- Stack 영역은 LIFO(Last In First Out) 구조로 높은 주소에서 낮은 주소의 방향으로 할당
#### 4.  Heap 영역
- 사용자가 직접 관리할 수 있는 메모리 영역
- 사용자에 의해 메모리 공간이 동적으로 할당되고 해제
- Stack고 반대로 Heap은 낮은 주소에서 높은 주소의 방향으로 할당

일반적으로 우리가 프로그래밍하여 만드는 Class는 Static영역에 생성되고 new 연산을 통해 생성한 객체는 Heap 영역에 생성된다.
- Static 변수는 메모리 구조상에서 Data영역에 저장되며 이는 메모리상에 한번 할당되면 프로그램이 종료될 때 해제된다는 것을 의미
- Class가 여러번 생성되어도 클래스 내부 Static 변수는 딱 한번만 생성
- 객체 생성시 할당된 Heap 영역의 메모리는 Garbage Collector를 통해 수시로 관리를 받는다.
- Static 영역에 할당된 메모리는 모든 객체가 공유하는 메모리라는 장점이 있지만 GC의 관리 영역 밖에 존재하므로 Static을 남발하면 시스템의 퍼포먼스에 악영향을 끼친다.
- Static변수와 Global변수는 혼용해서 쓰인다.
  - 공통점
    - Data 영역에 저장되고 라이프타임이 프로그램이 종료될때까지이다.
  - 차이점
    -  Global : 다른 파일에서도 해당 변수에 접근 가능
    -  Static : 다른 파일에서는 접근 불가, 해당 파일내에서 scope에 맞게 접근 가능
>#### 참조
>[JAVA Static변수와 메모리 구조](https://velog.io/@yonii/JAVA-Static이란)
